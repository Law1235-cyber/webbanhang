{% extends 'app/base.html' %}
{% load static %}
{% load widget_tweaks %}

{% block product_detail-content %}
<div class="container my-5">
    
    <a href="{% url 'home' %}" class="btn btn-outline-secondary mb-4">
        &#x2190; Quay l·∫°i Trang ch·ªß
    </a>

    <div class="row">
        <div class="col-lg-6 mb-4 mb-lg-0">
            <div class="card shadow-sm">
                <img src="{{ product.imageURL }}" class="card-img-top p-3" 
                     alt="{{ product.name }}" style="max-height: 500px; object-fit: contain;">
            </div>
        </div>

        <div class="col-lg-6">
            <div class="card shadow-sm p-4 h-100">
                
                <h1 class="mb-3">{{ product.name }}</h1>
                
                <h2 class="text-danger mb-4">
                    ${{ product.price|floatformat:2 }}
                </h2>

                <div class="mb-4 border-top pt-3">
                    <h5 class="fw-bold">M√¥ t·∫£ s·∫£n ph·∫©m:</h5>
                    <p class="text-muted">
                        {{ product.description }}. 
                    </p>
                    <p>Kho h√†ng c√≤n: {{ product.quantity }} M√°y</p>
                </div>
                
                <div class="mt-auto pt-3 border-top">
                    <form id="form-add-to-cart">
                        <div class="mb-3 d-flex align-items-center">
                            <label for="quantity" class="form-label me-3 fw-bold mb-0">S·ªë l∆∞·ª£ng:</label>
                            <input type="number" id="quantity" value="1" min="1" max="{{ product.quantity|default:10 }}" 
                                   class="form-control" style="width: 80px;">
                        </div>

                        <button type="button" 
                                data-product="{{ product.id }}" 
                                data-action="add" 
                                class="btn btn-primary add-btn update-cart-btn btn-lg w-100">
                            üõí Th√™m v√†o gi·ªè h√†ng
                        </button>
                        <a href="{% url 'cart' %}" class="btn btn-success buy-now-btn btn-lg w-100 mt-3">
                            üíµ Mua ngay
                        </a>
                        
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

{% endblock product_detail-content %}